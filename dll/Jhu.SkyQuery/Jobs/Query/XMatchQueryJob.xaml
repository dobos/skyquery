<Activity mc:Ignorable="sads sap" x:Class="Jhu.SkyQuery.Jobs.Query.XMatchQueryJob"
 xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities"
 xmlns:jga="clr-namespace:Jhu.Graywulf.Activities;assembly=Jhu.Graywulf.Activities"
 xmlns:jga1="clr-namespace:Jhu.Graywulf.Activities;assembly=Jhu.Graywulf.Registry"
 xmlns:jgjq="clr-namespace:Jhu.Graywulf.Jobs.Query;assembly=Jhu.Graywulf.Jobs"
 xmlns:jgr="clr-namespace:Jhu.Graywulf.Registry;assembly=Jhu.Graywulf.Registry"
 xmlns:jgr1="clr-namespace:Jhu.Graywulf.Registry;assembly=Jhu.Graywulf.Registry.Enum"
 xmlns:jgs="clr-namespace:Jhu.Graywulf.SqlParser;assembly=Jhu.Graywulf.Sql"
 xmlns:jgt="clr-namespace:Jhu.Graywulf.Tasks;assembly=Jhu.Graywulf.RemoteService"
 xmlns:local="clr-namespace:Jhu.SkyQuery.Jobs.Query"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 xmlns:mv="clr-namespace:Microsoft.VisualBasic;assembly=System"
 xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities"
 xmlns:s="clr-namespace:System;assembly=mscorlib"
 xmlns:s1="clr-namespace:System;assembly=System"
 xmlns:s2="clr-namespace:System;assembly=System.Xml"
 xmlns:s3="clr-namespace:System;assembly=System.Core"
 xmlns:s4="clr-namespace:System;assembly=System.ServiceModel"
 xmlns:sa="clr-namespace:System.Activities;assembly=System.Activities"
 xmlns:sad="clr-namespace:System.Activities.Debugger;assembly=System.Activities"
 xmlns:sads="http://schemas.microsoft.com/netfx/2010/xaml/activities/debugger"
 xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation"
 xmlns:scg="clr-namespace:System.Collections.Generic;assembly=System"
 xmlns:scg1="clr-namespace:System.Collections.Generic;assembly=System.ServiceModel"
 xmlns:scg2="clr-namespace:System.Collections.Generic;assembly=System.Core"
 xmlns:scg3="clr-namespace:System.Collections.Generic;assembly=mscorlib"
 xmlns:sd="clr-namespace:System.Data;assembly=System.Data"
 xmlns:sl="clr-namespace:System.Linq;assembly=System.Core"
 xmlns:st="clr-namespace:System.Text;assembly=mscorlib"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <x:Members>
    <x:Property Name="JobInfo" Type="InArgument(jga:JobInfo)" />
    <x:Property Name="Query" Type="InOutArgument(jgjq:SqlQuery)" />
  </x:Members>
  <sap:VirtualizedContainerService.HintSize>451,3033</sap:VirtualizedContainerService.HintSize>
  <mva:VisualBasic.Settings>Assembly references and imported namespaces for internal implementation</mva:VisualBasic.Settings>
  <CancellationScope sad:XamlDebuggerXmlReader.FileName="C:\Data\dobos\project\skyquery-all\skyquery\dll\Jhu.SkyQuery\Jobs\Query\XMatchQueryJob.xaml" sap:VirtualizedContainerService.HintSize="411,2953">
    <Sequence sap:VirtualizedContainerService.HintSize="375,2538">
      <sap:WorkflowViewStateService.ViewState>
        <scg3:Dictionary x:TypeArguments="x:String, x:Object">
          <x:Boolean x:Key="IsExpanded">True</x:Boolean>
        </scg3:Dictionary>
      </sap:WorkflowViewStateService.ViewState>
      <jgjq:InitializeQuery EntityGuid="{x:Null}" sap:VirtualizedContainerService.HintSize="353,22" JobInfo="[JobInfo]" Query="[Query]" />
      <jgjq:CheckDestinationTable sap:VirtualizedContainerService.HintSize="353,22" JobInfo="[JobInfo]" Query="[Query]" />
      <jgjq:AssignServerInstance EntityGuid="{x:Null}" sap:VirtualizedContainerService.HintSize="353,22" JobInfo="[JobInfo]" QueryObject="[Query]" />
      <ParallelForEach x:TypeArguments="jgs:ITableSource" DisplayName="ParallelForEach&lt;ITableSource&gt;" sap:VirtualizedContainerService.HintSize="353,276" Values="[Query.TableSourceStatistics]">
        <ActivityAction x:TypeArguments="jgs:ITableSource">
          <ActivityAction.Argument>
            <DelegateInArgument x:TypeArguments="jgs:ITableSource" Name="tableSource" />
          </ActivityAction.Argument>
          <jga:Retry Finally="{x:Null}" sap:VirtualizedContainerService.HintSize="214,128" JobInfo="[JobInfo]" MaxRetries="3">
            <jgjq:ComputeTableStatistics sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" Query="[Query]" TableSource="[tableSource]" />
          </jga:Retry>
        </ActivityAction>
      </ParallelForEach>
      <jgjq:GeneratePartitions EntityGuid="{x:Null}" sap:VirtualizedContainerService.HintSize="353,22" JobInfo="[JobInfo]" Query="[Query]" />
      <ParallelForEach x:TypeArguments="jgjq:SqlQueryPartition" DisplayName="ParallelForEach&lt;SqlQueryPartition&gt;" sap:VirtualizedContainerService.HintSize="353,1540" Values="[Query.Partitions]">
        <ActivityAction x:TypeArguments="jgjq:SqlQueryPartition">
          <ActivityAction.Argument>
            <DelegateInArgument x:TypeArguments="jgjq:SqlQueryPartition" Name="queryPartition" />
          </ActivityAction.Argument>
          <jga:Retry Finally="{x:Null}" sap:VirtualizedContainerService.HintSize="323,1392" JobInfo="[JobInfo]" MaxRetries="3">
            <Sequence sap:VirtualizedContainerService.HintSize="309,1286">
              <Sequence.Variables>
                <Variable x:TypeArguments="scg3:List(x:String)" Name="remoteTableReferences" />
              </Sequence.Variables>
              <sap:WorkflowViewStateService.ViewState>
                <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                </scg3:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
              <jgjq:AssignServerInstance EntityGuid="{x:Null}" sap:VirtualizedContainerService.HintSize="287,22" JobInfo="[JobInfo]" QueryObject="[queryPartition]" />
              <jgjq:FindRemoteTables sap:VirtualizedContainerService.HintSize="287,22" JobInfo="[JobInfo]" QueryPartition="[queryPartition]" />
              <ParallelForEach x:TypeArguments="x:String" DisplayName="ParallelForEach&lt;String&gt;" sap:VirtualizedContainerService.HintSize="287,208" Values="[queryPartition.RemoteTableReferences.Keys]">
                <ActivityAction x:TypeArguments="x:String">
                  <ActivityAction.Argument>
                    <DelegateInArgument x:TypeArguments="x:String" Name="tableReference" />
                  </ActivityAction.Argument>
                  <jgjq:CopyRemoteTable sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" QueryPartition="[queryPartition]" RemoteTable="[tableReference]" />
                </ActivityAction>
              </ParallelForEach>
              <ForEach x:TypeArguments="local:XMatchQueryStep" sap:VirtualizedContainerService.HintSize="287,604" Values="[DirectCast(queryPartition, Jhu.SkyQuery.Jobs.Query.XMatchQueryPartition).Steps]">
                <ActivityAction x:TypeArguments="local:XMatchQueryStep">
                  <ActivityAction.Argument>
                    <DelegateInArgument x:TypeArguments="local:XMatchQueryStep" Name="queryStep" />
                  </ActivityAction.Argument>
                  <Sequence sap:VirtualizedContainerService.HintSize="222,456">
                    <sap:WorkflowViewStateService.ViewState>
                      <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                        <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                      </scg3:Dictionary>
                    </sap:WorkflowViewStateService.ViewState>
                    <local:ComputeSearchRadius sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" XMatchStep="[queryStep]" />
                    <local:CreateZoneTable DisplayName="CreateZoneTable" sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" XMatchStep="[queryStep]" />
                    <local:CreateZoneDefTable sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" XMatchStep="[queryStep]" />
                    <local:CreateLinkTable sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" XMatchStep="[queryStep]" />
                    <local:CreatePairTable sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" XMatchStep="[queryStep]" />
                    <local:CreateMatchTable sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" XMatchStep="[queryStep]" />
                  </Sequence>
                </ActivityAction>
              </ForEach>
              <jgjq:ExecuteQuery sap:VirtualizedContainerService.HintSize="287,22" JobInfo="[JobInfo]" QueryPartition="[queryPartition]" />
              <jgjq:PrepareDestinationTable sap:VirtualizedContainerService.HintSize="287,22" JobInfo="[JobInfo]" QueryPartition="[queryPartition]" />
              <jgjq:CopyResultset sap:VirtualizedContainerService.HintSize="287,22" JobInfo="[JobInfo]" QueryPartition="[queryPartition]" />
            </Sequence>
          </jga:Retry>
        </ActivityAction>
      </ParallelForEach>
      <jgjq:CreateDestinationTablePrimaryKey sap:VirtualizedContainerService.HintSize="353,22" JobInfo="[JobInfo]" Query="[Query]" />
      <ParallelForEach x:TypeArguments="jgjq:SqlQueryPartition" DisplayName="ParallelForEach&lt;SqlQueryPartition&gt;" sap:VirtualizedContainerService.HintSize="353,208" Values="[Query.Partitions]">
        <ActivityAction x:TypeArguments="jgjq:SqlQueryPartition">
          <ActivityAction.Argument>
            <DelegateInArgument x:TypeArguments="jgjq:SqlQueryPartition" Name="queryPartition" />
          </ActivityAction.Argument>
          <jgjq:DropTemporaryTables sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" QueryPartition="[queryPartition]" SuppressErrors="False" />
        </ActivityAction>
      </ParallelForEach>
    </Sequence>
    <CancellationScope.CancellationHandler>
      <ParallelForEach x:TypeArguments="jgjq:SqlQueryPartition" DisplayName="ParallelForEach&lt;QueryPartitionBase&gt;" sap:VirtualizedContainerService.HintSize="287,208" Values="[Query.Partitions]">
        <ActivityAction x:TypeArguments="jgjq:SqlQueryPartition">
          <ActivityAction.Argument>
            <DelegateInArgument x:TypeArguments="jgjq:SqlQueryPartition" Name="queryPartition" />
          </ActivityAction.Argument>
          <jgjq:DropTemporaryTables sap:VirtualizedContainerService.HintSize="200,22" JobInfo="[JobInfo]" QueryPartition="[queryPartition]" SuppressErrors="True" />
        </ActivityAction>
      </ParallelForEach>
    </CancellationScope.CancellationHandler>
  </CancellationScope>
</Activity>